{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useLeafletContext } from \"@react-leaflet/core\";\nimport * as L from \"leaflet\";\nimport { useEffect } from \"react\";\nimport canvasLayer from \"leaflet-canvas-layer\";\nimport { useMap, useMapEvent, useMapEvents } from \"react-leaflet\";\nimport { Handler } from \"leaflet/dist/leaflet-src.esm\";\nL.MapPaint = L.Handler.extend({\n  includes: L.Mixin.Events,\n  addHooks: function () {\n    var canvas = this._canvas = document.createElement('canvas');\n    canvas.className = \"mappaint-canvas\";\n    var container = this._map._container;\n    canvas.height = container.offsetHeight;\n    canvas.width = container.offsetWidth;\n    container.appendChild(canvas);\n    this.disableMapInteractions();\n    this._context = canvas.getContext('2d');\n    this.pencil = new MapPaint.Sketchy(this._context);\n    this.pencil.retina = this._enhanceContext(this._context);\n    this.colorControl = new MapPaint.ColorControl();\n    this.colorControl.pencil = this.pencil;\n\n    this._map.addControl(this.colorControl);\n\n    this.actionControl = new MapPaint.ActionControl();\n    this.actionControl.pencil = this.pencil;\n    this.actionControl.mappaint = this;\n\n    this._map.addControl(this.actionControl);\n\n    L.DomEvent.addListener(canvas, 'mousedown', this._onMouseDown, this);\n    L.DomEvent.addListener(canvas, 'mouseup', this._onMouseUp, this);\n    L.DomEvent.addListener(canvas, 'mouseout', this._onMouseOut, this);\n    L.DomEvent.addListener(canvas, 'touchstart', this._onTouchStart, this);\n    L.DomEvent.addListener(canvas, 'touchend', this._onTouchEnd, this);\n    L.DomEvent.addListener(canvas, 'touchcancel', this._onTouchEnd, this);\n    L.DomEvent.addListener(canvas, 'contextmenu', function (e) {\n      return e.preventDefault() && false;\n    });\n\n    this._map.on('resize', this._onResize, this);\n  },\n  _onMouseDown: function (e) {\n    if (e.button) {\n      this.pencil.EnableFiller();\n    } else {\n      this.pencil.DisableFiller();\n    }\n\n    this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n    L.DomEvent.addListener(this._canvas, 'mousemove', this._onMouseMove, this);\n    e.preventDefault();\n  },\n  _onMouseMove: function (e) {\n    if (this._mouseOut) {\n      this._mouseOut = false;\n      this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n    } else {\n      this.pencil.Stroke('mouse', this._map.mouseEventToContainerPoint(e));\n    }\n\n    e.preventDefault();\n  },\n  _onMouseUp: function (e) {\n    this.pencil.Stop('mouse');\n    L.DomEvent.removeListener(this._canvas, 'mousemove', this._onMouseMove, this);\n    e.preventDefault();\n  },\n  _onMouseOut: function (e) {\n    this._mouseOut = true;\n  },\n  _onTouchStart: function (e) {\n    for (var i = 0, l = e.touches.length; i < l; ++i) {\n      var t = e.touches[i];\n      this.pencil.Start(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n    }\n\n    L.DomEvent.addListener(this._canvas, 'touchmove', this._onTouchMove, this);\n    e.preventDefault();\n  },\n  _onTouchMove: function (e) {\n    for (var i = 0, l = e.touches.length; i < l; ++i) {\n      var t = e.touches[i];\n      this.pencil.Stroke(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n    }\n\n    e.preventDefault();\n  },\n  _onTouchEnd: function (e) {\n    for (var i = 0, l = e.touches.length; i < l; ++i) {\n      var t = e.touches[i];\n      this.pencil.Stop(\"touch\" + t.identifier);\n    }\n\n    L.DomEvent.removeListener(this._canvas, 'touchmove', this._onTouchMove);\n  },\n  disableMapInteractions: function () {\n    var map = this._map;\n    this._interactionsStates = {\n      dragging: map.dragging.enabled(),\n      touchZoom: map.touchZoom.enabled(),\n      doubleClickZoom: map.doubleClickZoom.enabled(),\n      scrollWheelZoom: map.scrollWheelZoom.enabled(),\n      boxZoom: map.boxZoom.enabled(),\n      keyboard: map.keyboard.enabled(),\n      tap: map.tap && map.tap.enabled()\n    };\n    map.dragging.disable();\n    map.touchZoom.disable();\n    map.doubleClickZoom.disable();\n    map.scrollWheelZoom.disable();\n    map.boxZoom.disable();\n    map.keyboard.disable();\n    map.tap && map.tap.disable();\n  },\n  restoreMapInteractions: function () {\n    var map = this._map,\n        interactions = this._interactionsStates;\n\n    if (interactions.dragging) {\n      map.dragging.enable();\n    }\n\n    if (interactions.touchZoom) {\n      map.touchZoom.enable();\n    }\n\n    if (interactions.doubleClickZoom) {\n      map.doubleClickZoom.enable();\n    }\n\n    if (interactions.scrollWheelZoom) {\n      map.scrollWheelZoom.enable();\n    }\n\n    if (interactions.boxZoom) {\n      map.boxZoom.enable();\n    }\n\n    if (interactions.keyboard) {\n      map.keyboard.enable();\n    }\n\n    if (interactions.tap) {\n      map.tap.enable();\n    }\n  },\n  _enhanceContext: function () {\n    var canvas = this._canvas;\n    var ratio = window.devicePixelRatio || 1,\n        width = canvas.width,\n        height = canvas.height;\n\n    if (ratio > 1) {\n      canvas.width = width * ratio;\n      canvas.height = height * ratio;\n      canvas.style.width = width + \"px\";\n      canvas.style.height = height + \"px\";\n\n      this._context.scale(ratio, ratio);\n\n      return ratio;\n    }\n\n    return 1.0;\n  },\n  _onResize: function (e) {\n    var canvas = this._canvas,\n        ctx = this._context,\n        imageData = ctx.getImageData(0, 0, canvas.width, canvas.height),\n        container = this._map._container;\n    canvas.height = container.offsetHeight;\n    canvas.width = container.offsetWidth;\n\n    this._enhanceContext();\n\n    this.pencil.ClearDatagrid();\n    var center = e.newSize.subtract(e.oldSize).multiplyBy(0.5);\n    ctx.putImageData(imageData, center.x, center.y);\n  },\n  removeHooks: function () {\n    var _this = this;\n\n    this.pencil.SavePicture(this._map, function (image, bounds) {\n      if (window.confirm(\"Do you want to save your drawing?\")) {\n        _this.saveMethod(image, bounds);\n      }\n    });\n\n    this._map._container.removeChild(this._canvas);\n\n    this._map.removeControl(this.actionControl);\n\n    this._map.removeControl(this.colorControl);\n\n    this._map.off('resize', this._onResize, this);\n\n    this.restoreMapInteractions();\n    this.restoreMapInteractions();\n    this.restoreMapInteractions();\n  },\n  saveMethod: function (image, bounds) {\n    L.imageOverlay(image, bounds).addTo(this._map);\n  }\n});\n\nconst Map_paint = () => {\n  _s();\n\n  const ctx = useLeafletContext();\n  useEffect(() => {\n    const container = ctx.map;\n    var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n    const cl = new L.MapPaint();\n    container.addLayer(cl);\n    return () => {\n      container.removeLayer(cl);\n    };\n  });\n};\n\n_s(Map_paint, \"XQIRDxwzUI/GRmQs0qSQEwlDYJc=\", false, function () {\n  return [useLeafletContext];\n});\n\n_c = Map_paint;\nexport default Map_paint;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map_paint\");","map":{"version":3,"names":["useLeafletContext","L","useEffect","canvasLayer","useMap","useMapEvent","useMapEvents","Handler","MapPaint","extend","includes","Mixin","Events","addHooks","canvas","_canvas","document","createElement","className","container","_map","_container","height","offsetHeight","width","offsetWidth","appendChild","disableMapInteractions","_context","getContext","pencil","Sketchy","retina","_enhanceContext","colorControl","ColorControl","addControl","actionControl","ActionControl","mappaint","DomEvent","addListener","_onMouseDown","_onMouseUp","_onMouseOut","_onTouchStart","_onTouchEnd","e","preventDefault","on","_onResize","button","EnableFiller","DisableFiller","Start","mouseEventToContainerPoint","_onMouseMove","_mouseOut","Stroke","Stop","removeListener","i","l","touches","length","t","identifier","_onTouchMove","map","_interactionsStates","dragging","enabled","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tap","disable","restoreMapInteractions","interactions","enable","ratio","window","devicePixelRatio","style","scale","ctx","imageData","getImageData","ClearDatagrid","center","newSize","subtract","oldSize","multiplyBy","putImageData","x","y","removeHooks","_this","SavePicture","image","bounds","confirm","saveMethod","removeChild","removeControl","off","imageOverlay","addTo","Map_paint","cl","addLayer","removeLayer"],"sources":["/Users/romanradionov/PycharmProjects/reactleafletgeodjango/my-app/src/DrawingArea.js"],"sourcesContent":["import {useLeafletContext} from \"@react-leaflet/core\";\nimport * as L from \"leaflet\";\nimport {useEffect} from \"react\";\nimport canvasLayer from \"leaflet-canvas-layer\"\nimport {useMap, useMapEvent, useMapEvents} from \"react-leaflet\";\nimport {Handler} from \"leaflet/dist/leaflet-src.esm\";\n\n\n\nL.MapPaint = L.Handler.extend({\n    includes: L.Mixin.Events,\n    addHooks: function () {\n        var canvas = this._canvas = document.createElement('canvas');\n        canvas.className = \"mappaint-canvas\";\n\n        var container = this._map._container;\n\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n\n        container.appendChild(canvas);\n\n        this.disableMapInteractions();\n\n        this._context = canvas.getContext('2d');\n\n        this.pencil = new MapPaint.Sketchy(this._context);\n\n        this.pencil.retina = this._enhanceContext(this._context);\n\n        this.colorControl = new MapPaint.ColorControl();\n        this.colorControl.pencil = this.pencil;\n        this._map.addControl(this.colorControl);\n\n        this.actionControl = new MapPaint.ActionControl();\n        this.actionControl.pencil = this.pencil;\n        this.actionControl.mappaint = this;\n        this._map.addControl(this.actionControl);\n\n        L.DomEvent.addListener(canvas, 'mousedown', this._onMouseDown, this);\n        L.DomEvent.addListener(canvas, 'mouseup', this._onMouseUp, this);\n        L.DomEvent.addListener(canvas, 'mouseout', this._onMouseOut, this);\n\n        L.DomEvent.addListener(canvas, 'touchstart', this._onTouchStart, this);\n        L.DomEvent.addListener(canvas, 'touchend', this._onTouchEnd, this);\n        L.DomEvent.addListener(canvas, 'touchcancel', this._onTouchEnd, this);\n\n        L.DomEvent.addListener(canvas, 'contextmenu', function (e) {\n            return e.preventDefault() && false;\n        });\n\n        this._map.on('resize', this._onResize, this);\n    },\n    _onMouseDown: function (e) {\n        if (e.button) {\n            this.pencil.EnableFiller();\n        } else {\n            this.pencil.DisableFiller();\n        }\n\n        this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n\n        L.DomEvent.addListener(this._canvas, 'mousemove', this._onMouseMove, this);\n\n        e.preventDefault();\n    },\n    _onMouseMove: function (e) {\n        if (this._mouseOut) {\n            this._mouseOut = false;\n            this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n        } else {\n            this.pencil.Stroke('mouse', this._map.mouseEventToContainerPoint(e));\n        }\n\n        e.preventDefault();\n    },\n    _onMouseUp: function (e) {\n        this.pencil.Stop('mouse');\n        L.DomEvent.removeListener(this._canvas, 'mousemove', this._onMouseMove, this);\n        e.preventDefault();\n    },\n    _onMouseOut: function (e) {\n        this._mouseOut = true;\n    },\n    _onTouchStart: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Start(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        L.DomEvent.addListener(this._canvas, 'touchmove', this._onTouchMove, this);\n\n        e.preventDefault();\n    },\n    _onTouchMove: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Stroke(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        e.preventDefault();\n    },\n    _onTouchEnd: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Stop(\"touch\" + t.identifier);\n        }\n\n        L.DomEvent.removeListener(this._canvas, 'touchmove', this._onTouchMove);\n    },\n    disableMapInteractions: function () {\n        var map = this._map;\n\n        this._interactionsStates = {\n            dragging: map.dragging.enabled(),\n            touchZoom: map.touchZoom.enabled(),\n            doubleClickZoom: map.doubleClickZoom.enabled(),\n            scrollWheelZoom: map.scrollWheelZoom.enabled(),\n            boxZoom: map.boxZoom.enabled(),\n            keyboard: map.keyboard.enabled(),\n            tap: map.tap && map.tap.enabled()\n        };\n\n        map.dragging.disable();\n        map.touchZoom.disable();\n        map.doubleClickZoom.disable();\n        map.scrollWheelZoom.disable();\n        map.boxZoom.disable();\n        map.keyboard.disable();\n        map.tap && map.tap.disable();\n    },\n    restoreMapInteractions: function () {\n        var map = this._map, interactions = this._interactionsStates;\n\n        if (interactions.dragging) {\n            map.dragging.enable();\n        }\n\n        if (interactions.touchZoom) {\n            map.touchZoom.enable();\n        }\n\n        if (interactions.doubleClickZoom) {\n            map.doubleClickZoom.enable();\n        }\n\n        if (interactions.scrollWheelZoom) {\n            map.scrollWheelZoom.enable();\n        }\n\n        if (interactions.boxZoom) {\n            map.boxZoom.enable();\n        }\n\n        if (interactions.keyboard) {\n            map.keyboard.enable();\n        }\n\n        if (interactions.tap) {\n            map.tap.enable();\n        }\n    },\n    _enhanceContext: function () {\n        var canvas = this._canvas;\n        var ratio = window.devicePixelRatio || 1, width = canvas.width, height = canvas.height;\n\n        if (ratio > 1) {\n            canvas.width = width * ratio;\n            canvas.height = height * ratio;\n            canvas.style.width = width + \"px\";\n            canvas.style.height = height + \"px\";\n            this._context.scale(ratio, ratio);\n            return ratio;\n        }\n        return 1.0;\n    },\n    _onResize: function (e) {\n        var canvas = this._canvas, ctx = this._context, imageData = ctx.getImageData(0, 0, canvas.width, canvas.height), container = this._map._container;\n\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n\n        this._enhanceContext();\n        this.pencil.ClearDatagrid();\n\n        var center = e.newSize.subtract(e.oldSize).multiplyBy(0.5);\n\n        ctx.putImageData(imageData, center.x, center.y);\n    },\n    removeHooks: function () {\n        var _this = this;\n        this.pencil.SavePicture(this._map, function (image, bounds) {\n            if (window.confirm(\"Do you want to save your drawing?\")) {\n                _this.saveMethod(image, bounds);\n            }\n        });\n\n        this._map._container.removeChild(this._canvas);\n        this._map.removeControl(this.actionControl);\n        this._map.removeControl(this.colorControl);\n        this._map.off('resize', this._onResize, this);\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n    },\n    saveMethod: function (image, bounds) {\n        L.imageOverlay(image, bounds).addTo(this._map);\n    }\n});\n\n\nconst Map_paint = () => {\n\n\n    const ctx = useLeafletContext()\n\n\n\n\n    useEffect(() => {\n\n\n\n        const container = ctx.map\n        var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n\n\n\n        const cl = new L.MapPaint\n\n\n\n\n\n\n\n        container.addLayer(cl)\n\n\n\n        return () => {\n            container.removeLayer(cl)\n\n        }\n\n        })\n}\n\nexport default Map_paint"],"mappings":"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"},"metadata":{},"sourceType":"module"}