{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useLeafletContext } from \"@react-leaflet/core\";\nimport * as L from \"leaflet\";\nimport { useEffect } from \"react\";\nimport canvasLayer from \"leaflet-canvas-layer\";\nimport { useMap, useMapEvent, useMapEvents } from \"react-leaflet\";\n\nconst Map_paint = () => {\n  _s();\n\n  const ctx = useLeafletContext();\n  useEffect(() => {\n    const container = ctx.map;\n    const cl = new L.Handler.extend({\n      includes: L.Mixin.Events,\n      addHooks: function () {\n        var canvas = this._canvas = document.createElement('canvas');\n        canvas.className = \"mappaint-canvas\";\n        var container = this._map._container;\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n        container.appendChild(canvas);\n        this.disableMapInteractions();\n        this._context = canvas.getContext('2d');\n        this.pencil = new MapPaint.Sketchy(this._context);\n        this.pencil.retina = this._enhanceContext(this._context);\n        this.colorControl = new MapPaint.ColorControl();\n        this.colorControl.pencil = this.pencil;\n\n        this._map.addControl(this.colorControl);\n\n        this.actionControl = new MapPaint.ActionControl();\n        this.actionControl.pencil = this.pencil;\n        this.actionControl.mappaint = this;\n\n        this._map.addControl(this.actionControl);\n\n        L.DomEvent.addListener(canvas, 'mousedown', this._onMouseDown, this);\n        L.DomEvent.addListener(canvas, 'mouseup', this._onMouseUp, this);\n        L.DomEvent.addListener(canvas, 'mouseout', this._onMouseOut, this);\n        L.DomEvent.addListener(canvas, 'touchstart', this._onTouchStart, this);\n        L.DomEvent.addListener(canvas, 'touchend', this._onTouchEnd, this);\n        L.DomEvent.addListener(canvas, 'touchcancel', this._onTouchEnd, this);\n        L.DomEvent.addListener(canvas, 'contextmenu', function (e) {\n          return e.preventDefault() && false;\n        });\n\n        this._map.on('resize', this._onResize, this);\n      },\n      _onMouseDown: function (e) {\n        if (e.button) {\n          this.pencil.EnableFiller();\n        } else {\n          this.pencil.DisableFiller();\n        }\n\n        this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n        L.DomEvent.addListener(this._canvas, 'mousemove', this._onMouseMove, this);\n        e.preventDefault();\n      },\n      _onMouseMove: function (e) {\n        if (this._mouseOut) {\n          this._mouseOut = false;\n          this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n        } else {\n          this.pencil.Stroke('mouse', this._map.mouseEventToContainerPoint(e));\n        }\n\n        e.preventDefault();\n      },\n      _onMouseUp: function (e) {\n        this.pencil.Stop('mouse');\n        L.DomEvent.removeListener(this._canvas, 'mousemove', this._onMouseMove, this);\n        e.preventDefault();\n      },\n      _onMouseOut: function (e) {\n        this._mouseOut = true;\n      },\n      _onTouchStart: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n          var t = e.touches[i];\n          this.pencil.Start(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        L.DomEvent.addListener(this._canvas, 'touchmove', this._onTouchMove, this);\n        e.preventDefault();\n      },\n      _onTouchMove: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n          var t = e.touches[i];\n          this.pencil.Stroke(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        e.preventDefault();\n      },\n      _onTouchEnd: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n          var t = e.touches[i];\n          this.pencil.Stop(\"touch\" + t.identifier);\n        }\n\n        L.DomEvent.removeListener(this._canvas, 'touchmove', this._onTouchMove);\n      },\n      disableMapInteractions: function () {\n        var map = this._map;\n        this._interactionsStates = {\n          dragging: map.dragging.enabled(),\n          touchZoom: map.touchZoom.enabled(),\n          doubleClickZoom: map.doubleClickZoom.enabled(),\n          scrollWheelZoom: map.scrollWheelZoom.enabled(),\n          boxZoom: map.boxZoom.enabled(),\n          keyboard: map.keyboard.enabled(),\n          tap: map.tap && map.tap.enabled()\n        };\n        map.dragging.disable();\n        map.touchZoom.disable();\n        map.doubleClickZoom.disable();\n        map.scrollWheelZoom.disable();\n        map.boxZoom.disable();\n        map.keyboard.disable();\n        map.tap && map.tap.disable();\n      },\n      restoreMapInteractions: function () {\n        var map = this._map,\n            interactions = this._interactionsStates;\n\n        if (interactions.dragging) {\n          map.dragging.enable();\n        }\n\n        if (interactions.touchZoom) {\n          map.touchZoom.enable();\n        }\n\n        if (interactions.doubleClickZoom) {\n          map.doubleClickZoom.enable();\n        }\n\n        if (interactions.scrollWheelZoom) {\n          map.scrollWheelZoom.enable();\n        }\n\n        if (interactions.boxZoom) {\n          map.boxZoom.enable();\n        }\n\n        if (interactions.keyboard) {\n          map.keyboard.enable();\n        }\n\n        if (interactions.tap) {\n          map.tap.enable();\n        }\n      },\n      _enhanceContext: function () {\n        var canvas = this._canvas;\n        var ratio = window.devicePixelRatio || 1,\n            width = canvas.width,\n            height = canvas.height;\n\n        if (ratio > 1) {\n          canvas.width = width * ratio;\n          canvas.height = height * ratio;\n          canvas.style.width = width + \"px\";\n          canvas.style.height = height + \"px\";\n\n          this._context.scale(ratio, ratio);\n\n          return ratio;\n        }\n\n        return 1.0;\n      },\n      _onResize: function (e) {\n        var canvas = this._canvas,\n            ctx = this._context,\n            imageData = ctx.getImageData(0, 0, canvas.width, canvas.height),\n            container = this._map._container;\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n\n        this._enhanceContext();\n\n        this.pencil.ClearDatagrid();\n        var center = e.newSize.subtract(e.oldSize).multiplyBy(0.5);\n        ctx.putImageData(imageData, center.x, center.y);\n      },\n      removeHooks: function () {\n        var _this = this;\n\n        this.pencil.SavePicture(this._map, function (image, bounds) {\n          if (window.confirm(\"Do you want to save your drawing?\")) {\n            _this.saveMethod(image, bounds);\n          }\n        });\n\n        this._map._container.removeChild(this._canvas);\n\n        this._map.removeControl(this.actionControl);\n\n        this._map.removeControl(this.colorControl);\n\n        this._map.off('resize', this._onResize, this);\n\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n      },\n      saveMethod: function (image, bounds) {\n        L.imageOverlay(image, bounds).addTo(this._map);\n      }\n    });\n    container.addLayer(cl);\n    return () => {\n      container.removeLayer(cl);\n    };\n  });\n};\n\n_s(Map_paint, \"XQIRDxwzUI/GRmQs0qSQEwlDYJc=\", false, function () {\n  return [useLeafletContext];\n});\n\n_c = Map_paint;\nexport default Map_paint;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map_paint\");","map":{"version":3,"names":["useLeafletContext","L","useEffect","canvasLayer","useMap","useMapEvent","useMapEvents","Map_paint","ctx","container","map","cl","Handler","extend","includes","Mixin","Events","addHooks","canvas","_canvas","document","createElement","className","_map","_container","height","offsetHeight","width","offsetWidth","appendChild","disableMapInteractions","_context","getContext","pencil","MapPaint","Sketchy","retina","_enhanceContext","colorControl","ColorControl","addControl","actionControl","ActionControl","mappaint","DomEvent","addListener","_onMouseDown","_onMouseUp","_onMouseOut","_onTouchStart","_onTouchEnd","e","preventDefault","on","_onResize","button","EnableFiller","DisableFiller","Start","mouseEventToContainerPoint","_onMouseMove","_mouseOut","Stroke","Stop","removeListener","i","l","touches","length","t","identifier","_onTouchMove","_interactionsStates","dragging","enabled","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard","tap","disable","restoreMapInteractions","interactions","enable","ratio","window","devicePixelRatio","style","scale","imageData","getImageData","ClearDatagrid","center","newSize","subtract","oldSize","multiplyBy","putImageData","x","y","removeHooks","_this","SavePicture","image","bounds","confirm","saveMethod","removeChild","removeControl","off","imageOverlay","addTo","addLayer","removeLayer"],"sources":["/Users/romanradionov/PycharmProjects/reactleafletgeodjango/my-app/src/DrawingArea.js"],"sourcesContent":["import {useLeafletContext} from \"@react-leaflet/core\";\nimport * as L from \"leaflet\";\nimport {useEffect} from \"react\";\nimport canvasLayer from \"leaflet-canvas-layer\"\nimport {useMap, useMapEvent, useMapEvents} from \"react-leaflet\";\n\n\n\n\n\nconst Map_paint = () => {\n\n    const ctx = useLeafletContext()\n\n\n\n    useEffect(() => {\n\n\n        const container = ctx.map\n\n        const cl = new L.Handler.extend({\n    includes: L.Mixin.Events,\n    addHooks: function () {\n        var canvas = this._canvas = document.createElement('canvas');\n        canvas.className = \"mappaint-canvas\";\n\n        var container = this._map._container;\n\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n\n        container.appendChild(canvas);\n\n        this.disableMapInteractions();\n\n        this._context = canvas.getContext('2d');\n\n        this.pencil = new MapPaint.Sketchy(this._context);\n\n        this.pencil.retina = this._enhanceContext(this._context);\n\n        this.colorControl = new MapPaint.ColorControl();\n        this.colorControl.pencil = this.pencil;\n        this._map.addControl(this.colorControl);\n\n        this.actionControl = new MapPaint.ActionControl();\n        this.actionControl.pencil = this.pencil;\n        this.actionControl.mappaint = this;\n        this._map.addControl(this.actionControl);\n\n        L.DomEvent.addListener(canvas, 'mousedown', this._onMouseDown, this);\n        L.DomEvent.addListener(canvas, 'mouseup', this._onMouseUp, this);\n        L.DomEvent.addListener(canvas, 'mouseout', this._onMouseOut, this);\n\n        L.DomEvent.addListener(canvas, 'touchstart', this._onTouchStart, this);\n        L.DomEvent.addListener(canvas, 'touchend', this._onTouchEnd, this);\n        L.DomEvent.addListener(canvas, 'touchcancel', this._onTouchEnd, this);\n\n        L.DomEvent.addListener(canvas, 'contextmenu', function (e) {\n            return e.preventDefault() && false;\n        });\n\n        this._map.on('resize', this._onResize, this);\n    },\n    _onMouseDown: function (e) {\n        if (e.button) {\n            this.pencil.EnableFiller();\n        } else {\n            this.pencil.DisableFiller();\n        }\n\n        this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n\n        L.DomEvent.addListener(this._canvas, 'mousemove', this._onMouseMove, this);\n\n        e.preventDefault();\n    },\n    _onMouseMove: function (e) {\n        if (this._mouseOut) {\n            this._mouseOut = false;\n            this.pencil.Start('mouse', this._map.mouseEventToContainerPoint(e));\n        } else {\n            this.pencil.Stroke('mouse', this._map.mouseEventToContainerPoint(e));\n        }\n\n        e.preventDefault();\n    },\n    _onMouseUp: function (e) {\n        this.pencil.Stop('mouse');\n        L.DomEvent.removeListener(this._canvas, 'mousemove', this._onMouseMove, this);\n        e.preventDefault();\n    },\n    _onMouseOut: function (e) {\n        this._mouseOut = true;\n    },\n    _onTouchStart: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Start(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        L.DomEvent.addListener(this._canvas, 'touchmove', this._onTouchMove, this);\n\n        e.preventDefault();\n    },\n    _onTouchMove: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Stroke(\"touch\" + t.identifier, this._map.mouseEventToContainerPoint(t));\n        }\n\n        e.preventDefault();\n    },\n    _onTouchEnd: function (e) {\n        for (var i = 0, l = e.touches.length; i < l; ++i) {\n            var t = e.touches[i];\n            this.pencil.Stop(\"touch\" + t.identifier);\n        }\n\n        L.DomEvent.removeListener(this._canvas, 'touchmove', this._onTouchMove);\n    },\n    disableMapInteractions: function () {\n        var map = this._map;\n\n        this._interactionsStates = {\n            dragging: map.dragging.enabled(),\n            touchZoom: map.touchZoom.enabled(),\n            doubleClickZoom: map.doubleClickZoom.enabled(),\n            scrollWheelZoom: map.scrollWheelZoom.enabled(),\n            boxZoom: map.boxZoom.enabled(),\n            keyboard: map.keyboard.enabled(),\n            tap: map.tap && map.tap.enabled()\n        };\n\n        map.dragging.disable();\n        map.touchZoom.disable();\n        map.doubleClickZoom.disable();\n        map.scrollWheelZoom.disable();\n        map.boxZoom.disable();\n        map.keyboard.disable();\n        map.tap && map.tap.disable();\n    },\n    restoreMapInteractions: function () {\n        var map = this._map, interactions = this._interactionsStates;\n\n        if (interactions.dragging) {\n            map.dragging.enable();\n        }\n\n        if (interactions.touchZoom) {\n            map.touchZoom.enable();\n        }\n\n        if (interactions.doubleClickZoom) {\n            map.doubleClickZoom.enable();\n        }\n\n        if (interactions.scrollWheelZoom) {\n            map.scrollWheelZoom.enable();\n        }\n\n        if (interactions.boxZoom) {\n            map.boxZoom.enable();\n        }\n\n        if (interactions.keyboard) {\n            map.keyboard.enable();\n        }\n\n        if (interactions.tap) {\n            map.tap.enable();\n        }\n    },\n    _enhanceContext: function () {\n        var canvas = this._canvas;\n        var ratio = window.devicePixelRatio || 1, width = canvas.width, height = canvas.height;\n\n        if (ratio > 1) {\n            canvas.width = width * ratio;\n            canvas.height = height * ratio;\n            canvas.style.width = width + \"px\";\n            canvas.style.height = height + \"px\";\n            this._context.scale(ratio, ratio);\n            return ratio;\n        }\n        return 1.0;\n    },\n    _onResize: function (e) {\n        var canvas = this._canvas, ctx = this._context, imageData = ctx.getImageData(0, 0, canvas.width, canvas.height), container = this._map._container;\n\n        canvas.height = container.offsetHeight;\n        canvas.width = container.offsetWidth;\n\n        this._enhanceContext();\n        this.pencil.ClearDatagrid();\n\n        var center = e.newSize.subtract(e.oldSize).multiplyBy(0.5);\n\n        ctx.putImageData(imageData, center.x, center.y);\n    },\n    removeHooks: function () {\n        var _this = this;\n        this.pencil.SavePicture(this._map, function (image, bounds) {\n            if (window.confirm(\"Do you want to save your drawing?\")) {\n                _this.saveMethod(image, bounds);\n            }\n        });\n\n        this._map._container.removeChild(this._canvas);\n        this._map.removeControl(this.actionControl);\n        this._map.removeControl(this.colorControl);\n        this._map.off('resize', this._onResize, this);\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n        this.restoreMapInteractions();\n    },\n    saveMethod: function (image, bounds) {\n        L.imageOverlay(image, bounds).addTo(this._map);\n    }\n});\n\n\n\n        container.addLayer(cl)\n\n\n\n        return () => {\n            container.removeLayer(cl)\n\n        }\n\n        })\n}\n\nexport default Map_paint"],"mappings":"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"},"metadata":{},"sourceType":"module"}