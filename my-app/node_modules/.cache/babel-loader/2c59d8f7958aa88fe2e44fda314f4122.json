{"ast":null,"code":"import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport { HALF_PI, FORTPI } from '../constants/values';\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), -0.5 * this.e)) - HALF_PI;\n\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n\n    p.y = lat;\n  }\n  /* convergence failed */\n\n\n  if (!i) {\n    return null;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};","map":{"version":3,"names":["srat","MAX_ITER","HALF_PI","FORTPI","init","sphi","Math","sin","lat0","cphi","cos","rc","sqrt","es","C","phic0","asin","ratexp","e","K","tan","pow","forward","p","lon","x","lat","y","atan","inverse","DEL_TOL","num","i","abs","names"],"sources":["/Users/romanradionov/PycharmProjects/reactleafletgeodjango/my-app/node_modules/proj4/lib/projections/gauss.js"],"sourcesContent":["import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}