{"ast":null,"code":"/*! concavehull by Adam Timberlake <adam.timberlake@gmail.com> created on 2015-01-23 */\n!function (a) {\n  \"use strict\";\n\n  var b = function (a, b) {\n    var c = this.convertLatLngs(a);\n    this.points = c.points, this.maxDistance = isFinite(b) ? b : c.maxDistance + 1;\n  };\n\n  b.prototype = {\n    points: [],\n    maxDistance: 0,\n    convertLatLngs: function (a) {\n      var b = 0,\n          c = a.map(function (c, d) {\n        if (c.x = c.lng, c.y = this.lat2y(c), a[d - 1]) {\n          var e = this.distanceTo(c, a[d - 1]);\n          e > b && (b = e);\n        }\n\n        return c;\n      }.bind(this));\n      return {\n        points: c,\n        maxDistance: b\n      };\n    },\n    distanceTo: function (b, c) {\n      var d = 6378137,\n          e = a.PI / 180,\n          f = (c.lat - b.lat) * e,\n          g = (c.lng - b.lng) * e,\n          h = b.lat * e,\n          i = c.lat * e,\n          j = a.sin(f / 2),\n          k = a.sin(g / 2),\n          l = j * j + k * k * a.cos(h) * a.cos(i);\n      return 2 * d * a.atan2(a.sqrt(l), a.sqrt(1 - l));\n    },\n    getLatLngs: function () {\n      if (this.length <= 3) return this.points;\n      var a = this.points.slice().sort(function (a, b) {\n        return a.y - b.y;\n      }),\n          b = [],\n          c = a[0],\n          d = c,\n          e = {\n        x: d.x,\n        y: d.y - 1\n      };\n      b.push(c);\n\n      for (var f, g = 0, h = function (a, b) {\n        return this.getAngle(d, e, b) - this.getAngle(d, e, a);\n      }.bind(this);;) {\n        g++;\n\n        for (var i = this.points.slice().sort(h), j = 0, k = i.length; k > j; j++) if (this.distanceTo(d, i[j]) < this.maxDistance && !this.isIntersecting(b, i[j])) {\n          f = i[j];\n          break;\n        }\n\n        if (!f) return this.points;\n        if (f === d) return this.points;\n        if (b.push(f), f === c) return b;\n        if (e = d, d = f, f = void 0, g > 1e3) return this.points;\n      }\n    },\n    isIntersecting: function (a, b) {\n      for (var c = 1, d = a.length - 1; d > c; c++) if (this.intersect(a[c - 1], a[c], a[d], b)) return !0;\n\n      return !1;\n    },\n    intersect: function (a, b, c, d) {\n      return a.x === c.x && a.y === c.y || b.x === d.x && b.y === d.y || a.x === d.x && a.y === d.y || b.x === c.x && b.y === c.y ? !1 : this.ccw(a, b, c) * this.ccw(a, b, d) <= 0 && this.ccw(c, d, a) * this.ccw(c, d, b) <= 0;\n    },\n    lat2y: function (b) {\n      return 180 / a.PI * a.log(a.tan(a.PI / 4 + b.lat * (a.PI / 180) / 2));\n    },\n    ccw: function (a, b, c) {\n      var d = 1e-13,\n          e = b.x - a.x,\n          f = b.y - a.y,\n          g = c.x - a.x,\n          h = c.y - a.y,\n          i = e * h - f * g;\n      return i > d ? 1 : -d > i ? -1 : -d > e * g || -d > f * h ? -1 : g * g + h * h + d > e * e + f * f ? 1 : 0;\n    },\n    getAngle: function (b, c, d) {\n      if (d.x === b.x && d.y === b.y) return -9e3;\n      if (d.x === c.x && d.y === c.y) return -360;\n      var e,\n          f = {\n        x: b.x - c.x,\n        y: b.y - c.y\n      },\n          g = {\n        x: d.x - b.x,\n        y: d.y - b.y\n      },\n          h = f.x * g.y - g.x * f.y,\n          i = f.x * g.x + f.y * g.y;\n      return 0 === i ? (h > 0 && (e = 90), 0 > h && (e = -90)) : (e = 180 * a.atan(h / i) / a.PI, 0 > i && (h >= 0 && (e += 180), 0 > h && (e -= 180))), 360 === e && (e = 0), 180 - e;\n    }\n  }, function () {\n    return \"undefined\" != typeof module && module.exports ? void (module.exports = b) : \"function\" == typeof define && define.amd ? void define(function () {\n      return b;\n    }) : void (window.ConcaveHull = b);\n  }();\n}(Math);","map":{"version":3,"names":["a","b","c","convertLatLngs","points","maxDistance","isFinite","prototype","map","d","x","lng","y","lat2y","e","distanceTo","bind","PI","f","lat","g","h","i","j","sin","k","l","cos","atan2","sqrt","getLatLngs","length","slice","sort","push","getAngle","isIntersecting","intersect","ccw","log","tan","atan","module","exports","define","amd","window","ConcaveHull","Math"],"sources":["/Users/romanradionov/PycharmProjects/reactleafletgeodjango/my-app/node_modules/concavehull/dist/concavehull.min.js"],"sourcesContent":["/*! concavehull by Adam Timberlake <adam.timberlake@gmail.com> created on 2015-01-23 */\n!function(a){\"use strict\";var b=function(a,b){var c=this.convertLatLngs(a);this.points=c.points,this.maxDistance=isFinite(b)?b:c.maxDistance+1};b.prototype={points:[],maxDistance:0,convertLatLngs:function(a){var b=0,c=a.map(function(c,d){if(c.x=c.lng,c.y=this.lat2y(c),a[d-1]){var e=this.distanceTo(c,a[d-1]);e>b&&(b=e)}return c}.bind(this));return{points:c,maxDistance:b}},distanceTo:function(b,c){var d=6378137,e=a.PI/180,f=(c.lat-b.lat)*e,g=(c.lng-b.lng)*e,h=b.lat*e,i=c.lat*e,j=a.sin(f/2),k=a.sin(g/2),l=j*j+k*k*a.cos(h)*a.cos(i);return 2*d*a.atan2(a.sqrt(l),a.sqrt(1-l))},getLatLngs:function(){if(this.length<=3)return this.points;var a=this.points.slice().sort(function(a,b){return a.y-b.y}),b=[],c=a[0],d=c,e={x:d.x,y:d.y-1};b.push(c);for(var f,g=0,h=function(a,b){return this.getAngle(d,e,b)-this.getAngle(d,e,a)}.bind(this);;){g++;for(var i=this.points.slice().sort(h),j=0,k=i.length;k>j;j++)if(this.distanceTo(d,i[j])<this.maxDistance&&!this.isIntersecting(b,i[j])){f=i[j];break}if(!f)return this.points;if(f===d)return this.points;if(b.push(f),f===c)return b;if(e=d,d=f,f=void 0,g>1e3)return this.points}},isIntersecting:function(a,b){for(var c=1,d=a.length-1;d>c;c++)if(this.intersect(a[c-1],a[c],a[d],b))return!0;return!1},intersect:function(a,b,c,d){return a.x===c.x&&a.y===c.y||b.x===d.x&&b.y===d.y||a.x===d.x&&a.y===d.y||b.x===c.x&&b.y===c.y?!1:this.ccw(a,b,c)*this.ccw(a,b,d)<=0&&this.ccw(c,d,a)*this.ccw(c,d,b)<=0},lat2y:function(b){return 180/a.PI*a.log(a.tan(a.PI/4+b.lat*(a.PI/180)/2))},ccw:function(a,b,c){var d=1e-13,e=b.x-a.x,f=b.y-a.y,g=c.x-a.x,h=c.y-a.y,i=e*h-f*g;return i>d?1:-d>i?-1:-d>e*g||-d>f*h?-1:g*g+h*h+d>e*e+f*f?1:0},getAngle:function(b,c,d){if(d.x===b.x&&d.y===b.y)return-9e3;if(d.x===c.x&&d.y===c.y)return-360;var e,f={x:b.x-c.x,y:b.y-c.y},g={x:d.x-b.x,y:d.y-b.y},h=f.x*g.y-g.x*f.y,i=f.x*g.x+f.y*g.y;return 0===i?(h>0&&(e=90),0>h&&(e=-90)):(e=180*a.atan(h/i)/a.PI,0>i&&(h>=0&&(e+=180),0>h&&(e-=180))),360===e&&(e=0),180-e}},function(){return\"undefined\"!=typeof module&&module.exports?void(module.exports=b):\"function\"==typeof define&&define.amd?void define(function(){return b}):void(window.ConcaveHull=b)}()}(Math);"],"mappings":"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"},"metadata":{},"sourceType":"script"}